/*! droll v0.1.0  http://github.com/thebinarypenguin/droll */
!function(){"use strict";function a(){this.numDice=0,this.numSides=0,this.modifier=0}function b(){this.rolls=[],this.modifier=0,this.total=0}var c=this,d={};b.prototype.toString=function(){return 1===this.rolls.length&&0===this.modifier?this.rolls[0]+"":this.rolls.length>1&&0===this.modifier?this.rolls.join(" + ")+" = "+this.total:1===this.rolls.length&&this.modifier>0?this.rolls[0]+" + "+this.modifier+" = "+this.total:this.rolls.length>1&&this.modifier>0?this.rolls.join(" + ")+" + "+this.modifier+" = "+this.total:1===this.rolls.length&&this.modifier<0?this.rolls[0]+" - "+Math.abs(this.modifier)+" = "+this.total:this.rolls.length>1&&this.modifier<0?this.rolls.join(" + ")+" - "+Math.abs(this.modifier)+" = "+this.total:void 0},d.parse=function(b){var c=null,d=new a;return(c=b.match(/^([1-9]\d*)?d([1-9]\d*)([+-]\d+)?$/i))?(d.numDice=c[1]-0||1,d.numSides=c[2]-0,d.modifier=c[3]-0||0,d):!1},d.validate=function(a){return d.parse(a)?!0:!1},d.roll=function(a){var c=null,e=new b;if(c=d.parse(a),!c)return!1;for(var f=0;f<c.numDice;f++)e.rolls[f]=1+Math.floor(Math.random()*c.numSides);e.modifier=c.modifier;for(var g=0;g<e.rolls.length;g++)e.total+=e.rolls[g];return e.total+=e.modifier,e},"undefined"!=typeof module&&module.exports?module.exports=d:c.droll=d}();